(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/paymentlist/paymentlist"],{"03a2":function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}));var o={uniPopup:function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-popup/uni-popup")]).then(t.bind(null,"334c"))}},i=function(){var e=this,n=e.$createElement;e._self._c},a=[]},"2d8c":function(e,n,t){"use strict";var o=t("9378"),i=t.n(o);i.a},9378:function(e,n,t){},b2a7:function(e,n,t){"use strict";t.r(n);var o=t("d9fd"),i=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=i.a},b439:function(e,n,t){"use strict";t.r(n);var o=t("03a2"),i=t("b2a7");for(var a in i)"default"!==a&&function(e){t.d(n,e,(function(){return i[e]}))}(a);t("2d8c");var c,s=t("f0c5"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"7e4daf9e",null,!1,o["a"],c);n["default"]=r.exports},d9fd:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){Promise.all([t.e("common/vendor"),t.e("components/uni-popup/uni-popup")]).then(function(){return resolve(t("334c"))}.bind(null,t)).catch(t.oe)},i=function(){t.e("components/uni-popup/uni-popup-more").then(function(){return resolve(t("8919"))}.bind(null,t)).catch(t.oe)},a={name:"paymentlist",components:{uniPopup:o,uniPopupMore:i},data:function(){return{index:0,key:0,apiUrl:"https://ccc.wangwanglive.com/index.php/api/V1/",array:["请选择缴费类型","水费","电费","网费"],company:[{name:"请选择缴费类型"}],info:{},payment:"",acPlac:"Account No",idPlac:"Identifier",service_charge:"50",type_ac:!1,itemid:"",ac:"",ident:"",money:""}},props:["sf","df","wf"],methods:{recordAc:function(e){this.ac=e.detail.value},recordId:function(e){this.ident=e.detail.value},recordMoney:function(e){this.money=e.detail.value,this.money>3e3?this.service_charge=Math.floor(2*this.money*.01):this.service_charge=50,console.log(this.ac,this.ident,this.money)},lifeorder:function(){var n=this;return n.itemid?n.ac&&n.ident?n.money?(n.payment="wxpay_mini_app",this.$refs.popupmore.open(),e.request({url:"https://ccc.wangwanglive.com/index.php/index/lifepay/vlifecreate",data:{price:n.money,itemid:n.itemid,service_price:n.service_charge,Identifier:n.ident,AccountNo:n.ac,user_id:e.getStorageSync("userlist").user_id,payid:e.getStorageSync("lpayid"),payment:n.payment},method:"POST",success:function(t){if(n.$emit("fun",!1),"200"==t.data.code){e.setStorageSync("lpayid",t.data.id);var o=JSON.parse(t.data.data);if(console.log(o),0==o.code&&"success"==o.desc){var i=JSON.parse(o.data.content);console.log(i),n.juancashpay(i)}else e.showToast({title:""+o.desc,icon:"none"})}else e.showToast({title:""+data.msg,icon:"none"})},fail:function(e){console.log(e)}}),console.log(n.money),console.log(n.ac),void console.log(n.ident)):(e.showToast({title:"请填写缴费金额",icon:"none"}),!1):(e.showToast({title:"请填写正确的账单信息",icon:"none"}),!1):(e.showToast({title:"请输入缴费单位",icon:"none"}),!1)},juanalipay:function(n){this.$refs.popupmore.close(),console.log(n),e.requestPayment({provider:"alipay",orderStr:""+n,success:function(n){console.log("success:"+JSON.stringify(n)),"requestPayment:ok"===n.errMsg&&(e.removeStorageSync("lpayid"),e.showToast({title:"支付成功",icon:"none"}),e.redirectTo({url:"/pages/lifepay/lifepay"}))},fail:function(e){console.log("fail:"+JSON.stringify(e))}})},juancashpay:function(n){this.$refs.popupmore.close(),e.requestPayment({provider:"wxpay",timeStamp:""+n.timeStamp,nonceStr:""+n.nonceStr,package:""+n.package,signType:""+n.signType,paySign:""+n.sign,success:function(n){if("requestPayment:ok"===n.errMsg)return e.removeStorageSync("lpayid"),e.showToast({title:"支付成功",icon:"none"}),void e.redirectTo({url:"/pages/lifepay/lifepay"});console.log("success:"+JSON.stringify(n))},fail:function(e){console.log("fail:"+JSON.stringify(e))}})},fxpay:function(n){this.$refs.popupmore.close(),e.requestPayment({provider:"wxpay",timeStamp:""+n.timeStamp,nonceStr:""+n.nonceStr,package:""+n.package,signType:""+n.signType,paySign:""+n.paySign,success:function(n){if("requestPayment:ok"===n.errMsg)return e.removeStorageSync("payid"),e.showToast({title:"支付成功",icon:"none"}),void e.redirectTo({url:"/pages/index/index"});console.log("success:"+JSON.stringify(n))},fail:function(e){console.log("fail:"+JSON.stringify(e))}})},bindPickerChange:function(e){var n=this;switch(n.company=[{name:"请选择缴费类型"}],console.log("picker发送选择改变，携带值为",e.target.value),n.index=e.target.value,n.key=0,console.log(n.index),n.index){case"1":n.company=n.company.concat(n.sf);break;case"2":n.company=n.company.concat(n.df);break;case"3":n.company=n.company.concat(n.wf);break}n.type_ac=!1},bindPickerChange2:function(e){if(this.key=e.target.value,0!=this.key&&0!=this.index){var n=JSON.parse(this.company[this.key].param);this.company[this.key].id,console.log(this.company[this.key]),this.itemid=this.company[this.key].fid,this.acPlac=n[0].note,this.idPlac=n[1].note,this.type_ac=!0}else this.type_ac=!1}}};n.default=a}).call(this,t("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/paymentlist/paymentlist-create-component',
    {
        'components/paymentlist/paymentlist-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("b439"))
        })
    },
    [['components/paymentlist/paymentlist-create-component']]
]);
